<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>政府採購招標資訊查詢系統</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- 在 index.html 中的 header 區域添加 -->
<div class="header">
    <h1>政府採購招標資訊查詢系統</h1>
    <div class="actions">
        <div class="update-info">最後更新時間: <span id="lastUpdate">載入中...</span></div>
        <a href="update.html" class="admin-link" title="更新招標資訊">管理員更新</a>
    </div>
</div>

<!-- 添加對應的 CSS -->
<style>
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.actions {
    display: flex;
    align-items: center;
}

.update-info {
    font-size: 14px;
    color: #666;
    margin-right: 15px;
}

.admin-link {
    font-size: 12px;
    color: #999;
    text-decoration: none;
}

.admin-link:hover {
    text-decoration: underline;
}
</style>
</head>
<body>
    <div class="container">
        <div class="control-panel">
            <div class="header">
                <h1>政府採購招標資訊查詢系統</h1>
                <div class="update-info">最後更新時間: <span id="lastUpdate">載入中...</span></div>
            </div>
            <div class="filter-buttons">
                <button class="filter-btn" data-filter="衛生局">衛生局</button>
                <button class="filter-btn" data-filter="衛生福利部">衛生福利部</button>
                <button class="filter-btn" data-filter="國民健康署">國民健康署</button>
                <button class="filter-btn" data-filter="醫院">醫院</button>
                <button id="showAll" class="action-btn">顯示全部資料</button>
            </div>
            <div class="search-box">
                <input type="text" id="customKeyword" placeholder="輸入關鍵字...">
                <button id="searchBtn" class="action-btn">搜尋</button>
            </div>
            <div class="sort-buttons">
                <span>排序依據：</span>
                <button class="sort-btn" data-sort="publishDate">招標日期</button>
                <button class="sort-btn" data-sort="deadline">截標日期</button>
                <button class="sort-btn" data-sort="budget">預算金額</button>
            </div>
        </div>
        
        <div class="data-container">
            <div class="loading" id="loadingIndicator">資料載入中...</div>
            <table id="tenderTable">
                <thead>
                    <tr>
                        <th>編號</th>
                        <th>機關名稱</th>
                        <th>標案名稱</th>
                        <th>招標日期</th>
                        <th>截止投標</th>
                        <th>預算金額</th>
                        <th>詳細資訊</th>
                    </tr>
                </thead>
                <tbody id="tenderData"></tbody>
            </table>
            <div id="noResults" class="no-results" style="display: none;">
                沒有符合條件的招標資訊
            </div>
            <div class="pagination" id="pagination"></div>
        </div>
    </div>
    
    <!-- 隱藏的 iframe 用於加載原始招標網站 -->
    <iframe id="sourceFrame" src="about:blank" style="display:none;"></iframe>
    
    <!-- 導入解析網站資料的腳本 -->
    <script src="js/dataScraper.js"></script>
    <!-- 先加載 data.js，定義 TenderDataService -->
    <script src="js/data.js"></script>
    <!-- 然後加載 main.js，使用 TenderDataService -->
    <script src="js/main.js"></script>
</body>
</html>
